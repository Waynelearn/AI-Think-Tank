<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Think Tank — Help</title>
    <link rel="stylesheet" href="/static/theme.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-page);
            color: var(--text-primary);
            line-height: 1.7;
            padding: 1.5rem;
        }
        .help-container {
            max-width: 740px;
            margin: 0 auto;
        }
        .help-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }
        .back-link {
            display: inline-block;
            color: var(--accent-sky);
            text-decoration: none;
            font-size: 0.85rem;
        }
        .back-link:hover { text-decoration: underline; }
        .theme-toggle-help {
            background: var(--bg-raised);
            border: 1px solid var(--border-muted);
            border-radius: 6px;
            color: var(--text-muted);
            font-size: 1rem;
            cursor: pointer;
            padding: 0.15rem 0.4rem;
            min-width: 2rem;
        }
        .theme-toggle-help:hover { border-color: var(--accent-blue); }
        h1 {
            font-size: 1.5rem;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple), var(--accent-red));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.3rem;
        }
        .help-subtitle {
            color: var(--text-dim);
            font-size: 0.85rem;
            margin-bottom: 1.5rem;
        }
        h2 {
            font-size: 1.1rem;
            color: var(--accent-blue);
            margin-top: 2rem;
            margin-bottom: 0.5rem;
            padding-bottom: 0.3rem;
            border-bottom: 1px solid var(--border-default);
        }
        h3 {
            font-size: 0.95rem;
            color: var(--accent-purple);
            margin-top: 1.2rem;
            margin-bottom: 0.3rem;
        }
        p { margin-bottom: 0.7rem; font-size: 0.88rem; color: var(--text-secondary); }
        ul, ol { margin: 0.4rem 0 0.8rem 1.4rem; font-size: 0.88rem; color: var(--text-secondary); }
        li { margin-bottom: 0.3rem; }
        code {
            background: var(--bg-raised);
            padding: 0.15rem 0.4rem;
            border-radius: 4px;
            font-size: 0.82rem;
            color: var(--text-primary);
        }
        .tip {
            background: var(--bg-user-msg);
            border-left: 3px solid var(--accent-blue);
            padding: 0.6rem 0.8rem;
            border-radius: 0 8px 8px 0;
            margin: 0.6rem 0;
            font-size: 0.85rem;
        }
        .warn {
            background: var(--bg-warn);
            border-left: 3px solid var(--accent-orange);
            padding: 0.6rem 0.8rem;
            border-radius: 0 8px 8px 0;
            margin: 0.6rem 0;
            font-size: 0.85rem;
            color: var(--accent-orange);
        }
        .agent-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 0.5rem;
            margin: 0.6rem 0;
            list-style: none;
            padding: 0;
        }
        .agent-list li {
            background: var(--bg-raised);
            padding: 0.5rem 0.7rem;
            border-radius: 8px;
            border-left: 3px solid var(--color);
            font-size: 0.82rem;
        }
        .agent-list .agent-name { font-weight: 600; }
        .agent-list .agent-desc { color: var(--text-dim); font-size: 0.78rem; }
        .agent-section-label {
            font-size: 0.75rem;
            color: var(--text-faint);
            text-transform: uppercase;
            letter-spacing: 0.08em;
            margin-top: 1rem;
            margin-bottom: 0.4rem;
        }
        kbd {
            background: var(--bg-hover);
            border: 1px solid var(--border-muted);
            border-radius: 4px;
            padding: 0.1rem 0.35rem;
            font-size: 0.78rem;
            font-family: inherit;
        }
        .example-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 0.5rem;
            margin: 0.6rem 0;
        }
        .example-card {
            background: var(--bg-raised);
            border: 1px solid var(--border-default);
            border-radius: 8px;
            padding: 0.6rem 0.8rem;
        }
        .example-card h4 {
            font-size: 0.82rem;
            color: var(--accent-purple);
            margin-bottom: 0.3rem;
        }
        .example-card p {
            font-size: 0.78rem;
            color: var(--text-muted);
            margin-bottom: 0.2rem;
        }
        @media (max-width: 600px) {
            body { padding: 1rem; }
            h1 { font-size: 1.3rem; }
            .agent-list { grid-template-columns: 1fr; }
            .example-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="help-container">
        <div class="help-header">
            <a href="/" class="back-link">&larr; Back to Think Tank</a>
            <button class="theme-toggle-help" id="btn-theme-help" aria-label="Toggle theme" title="Toggle theme"><span id="theme-icon-help">&#9790;</span></button>
        </div>
        <h1>AI Think Tank — Help Guide</h1>
        <p class="help-subtitle">Everything you need to know to run a multi-agent discussion.</p>

        <!-- ───────────── Getting Started ───────────── -->
        <h2>1. Getting Started</h2>

        <h3>Choosing a Provider &amp; Model</h3>
        <p>
            Before starting a discussion, click the <strong>"Settings"</strong> toggle at the top of the page to expand the settings panel.
        </p>
        <ol>
            <li><strong>Provider</strong> — Choose which AI service to use. Supported providers:
                <ul>
                    <li><strong>Anthropic</strong> — Claude Sonnet 4.5, Claude Haiku 4.5</li>
                    <li><strong>OpenAI</strong> — GPT-4o, GPT-4o Mini, o3-mini</li>
                    <li><strong>DeepSeek</strong> — DeepSeek V3, DeepSeek R1</li>
                    <li><strong>Google Gemini</strong> — Gemini 2.0 Flash, Gemini 2.5 Pro</li>
                    <li><strong>Groq</strong> — Llama 3.3 70B, Mixtral 8x7B</li>
                </ul>
            </li>
            <li><strong>Model</strong> — Select a model from the chosen provider. The dropdown updates automatically when you switch providers.</li>
            <li><strong>API Key</strong> (required) — The key for your selected provider. Get one from the provider's console. The placeholder updates to show the expected key format.</li>
            <li><strong>Brave Search API Key</strong> (optional) — Enables agents to search the web for live data and images.
                Get a free key (2,000 queries/month) from
                <a href="https://brave.com/search/api/" target="_blank" rel="noopener noreferrer" style="color:var(--accent-sky)">brave.com/search/api</a>.</li>
        </ol>
        <p>Click <strong>"Save"</strong> to store settings in your browser. API keys are saved per provider, so you can switch between providers without re-entering keys. They are never stored on the server — they go directly to the respective APIs.</p>

        <div class="tip">
            <strong>Tip:</strong> API keys are saved separately per provider. Switch from Anthropic to OpenAI and back — your keys are remembered for each.
        </div>

        <div class="warn">
            If no Brave Search key is provided, an orange banner will appear and agents will not be able to search the web. The discussion will still work, but agents won't have access to current information.
        </div>

        <h3>Starting a Discussion</h3>
        <ol>
            <li>Select which agents you want to participate by clicking their chips (all are selected by default).</li>
            <li>Type a topic in the input field at the bottom (e.g. "Should AI be regulated?" or "Analyze Tesla's Q4 earnings").</li>
            <li>Optionally attach files for context (PDF, Excel, Word, images, code, etc.).</li>
            <li>Click <strong>Start</strong> or press <kbd>Enter</kbd>.</li>
        </ol>

        <!-- ───────────── Speaker Queue ───────────── -->
        <h2>2. The Speaker Queue</h2>
        <p>
            The Speaker Queue controls which agents speak and in what order. When a discussion starts, all selected agents are added to the queue automatically.
        </p>

        <h3>Queue Controls</h3>
        <ul>
            <li><strong>Play All</strong> — Automatically runs every agent in the queue one after another. Click again to pause.</li>
            <li><strong>Next</strong> — Runs just the next agent in line, then stops.</li>
            <li><strong>New Round</strong> — Advances to a new discussion round and refills the queue with all selected agents.</li>
            <li><strong>Stop</strong> — Pauses auto-play (does not end the session).</li>
            <li><strong>Clear</strong> — Empties the queue entirely.</li>
            <li><strong>Shuffle</strong> — Randomizes the speaker order (The Mediator, The Judge, and Sentiment Analyst stay pinned at the end).</li>
        </ul>

        <h3>Reordering &amp; Editing the Queue</h3>
        <ul>
            <li><strong>Drag &amp; drop</strong> queue items to reorder (grab the &#9776; handle).</li>
            <li>Use the <strong>arrow buttons</strong> (&uarr; &darr;) to move an agent up or down.</li>
            <li>Click <strong>&times;</strong> to remove an agent from the queue.</li>
            <li>Use the <strong>"Add agent"</strong> dropdown to insert any agent into the queue at any time — even agents that aren't in the current selection.</li>
        </ul>

        <div class="tip">
            <strong>Tip:</strong> The Mediator, Judge, and Sentiment Analyst are automatically pinned at the end of the queue. You can drag them earlier if you want their input sooner.
        </div>

        <h3>Mobile Users</h3>
        <p>
            On mobile, the queue is collapsed by default. Tap the <strong>"Speaker Queue"</strong> bar to expand or collapse it. The chat area fills the rest of the screen.
        </p>

        <!-- ───────────── Interacting ───────────── -->
        <h2>3. Interacting During a Discussion</h2>
        <p>
            Once a discussion is running, the input field changes to an interjection box. You can type a message and click <strong>Send</strong> (or press <kbd>Enter</kbd> / <kbd>Ctrl+Enter</kbd>) at any time — even while an agent is speaking.
        </p>
        <p>Your interjections are added to the transcript and every agent that speaks after will see and address your message. Use this to:</p>
        <ul>
            <li>Steer the conversation in a different direction.</li>
            <li>Ask agents to focus on a specific sub-topic.</li>
            <li>Request specific output formats (e.g., "Give me a table comparing X and Y").</li>
            <li>Ask agents to search for images or data (e.g., "Find me a chart of GDP growth").</li>
        </ul>

        <!-- ───────────── Agents ───────────── -->
        <h2>4. Meet the Agents</h2>
        <p>Each agent has a distinct personality, expertise, and discussion style. Click an agent chip to toggle their participation.</p>

        <div class="agent-section-label">Core Analysts</div>
        <ul class="agent-list">
            <li style="--color:#4A90D9"><span class="agent-name">&#128300; Dr. Nova</span><br><span class="agent-desc">Science & Technology — Data-driven, evidence-based, cites studies.</span></li>
            <li style="--color:#9B59B6"><span class="agent-name">&#127963;&#65039; Philosopher Phil</span><br><span class="agent-desc">Philosophy & Ethics — Socratic questions, moral dimensions.</span></li>
            <li style="--color:#27AE60"><span class="agent-name">&#128202; Biz</span><br><span class="agent-desc">Business Strategy — ROI-focused, pragmatic, bottom-line thinker.</span></li>
            <li style="--color:#E74C3C"><span class="agent-name">&#127912; Creatia</span><br><span class="agent-desc">Creativity & Arts — Metaphorical, unconventional perspectives.</span></li>
            <li style="--color:#E67E22"><span class="agent-name">&#128520; Devil's Advocate</span><br><span class="agent-desc">Critical Analysis — Challenges every assumption head-on.</span></li>
            <li style="--color:#1ABC9C"><span class="agent-name">&#9878;&#65039; The Mediator</span><br><span class="agent-desc">Synthesis & Consensus — Finds common ground, summarizes. Speaks last.</span></li>
        </ul>

        <div class="agent-section-label">Finance & Strategy</div>
        <ul class="agent-list">
            <li style="--color:#C0392B"><span class="agent-name">&#128293; Rex Risk</span><br><span class="agent-desc">High-Risk Strategy — Bold bets, asymmetric payoffs.</span></li>
            <li style="--color:#F39C12"><span class="agent-name">&#128640; YOLO Max</span><br><span class="agent-desc">Speculative Trading — Momentum-driven, high-conviction plays.</span></li>
            <li style="--color:#2E86C1"><span class="agent-name">&#128200; Samantha Street</span><br><span class="agent-desc">Equity Research — Valuation-focused fundamental analysis.</span></li>
            <li style="--color:#34495E"><span class="agent-name">&#127758; Dr. Macro</span><br><span class="agent-desc">Macroeconomics — Systems-oriented, big-picture thinker.</span></li>
            <li style="--color:#16A085"><span class="agent-name">&#9881;&#65039; Systems Sage</span><br><span class="agent-desc">Systems Design — Architecture and engineering patterns.</span></li>
            <li style="--color:#8E44AD"><span class="agent-name">&#129504; Dr. Bias</span><br><span class="agent-desc">Behavioral Psychology — Identifies cognitive biases.</span></li>
            <li style="--color:#1F618D"><span class="agent-name">&#127974; Capital Steward</span><br><span class="agent-desc">Capital Allocation — Long-term, disciplined investing.</span></li>
            <li style="--color:#7D3C98"><span class="agent-name">&#128752;&#65039; Atlas</span><br><span class="agent-desc">Geopolitics — Power dynamics and global strategy.</span></li>
        </ul>

        <div class="agent-section-label">Shadow Panel (Negative Personas)</div>
        <p>These personas represent morally challenging perspectives. They are designed to stress-test arguments, reveal blind spots, and surface uncomfortable truths about human rationalization.</p>
        <ul class="agent-list">
            <li style="--color:#95A5A6"><span class="agent-name">&#128715;&#65039; The Complicit</span><br><span class="agent-desc">Status Quo Defense — Passive, norm-following, uses legal compliance as moral licensing.</span></li>
            <li style="--color:#566573"><span class="agent-name">&#129518; The Operator</span><br><span class="agent-desc">Transactional Pragmatism — Cold, efficiency-driven, treats exchanges as consumer services.</span></li>
            <li style="--color:#6C3483"><span class="agent-name">&#127761; The Cynic</span><br><span class="agent-desc">Existential Critique — Disillusioned intellectual who sees the ethical catastrophe but views action as futile.</span></li>
            <li style="--color:#1C2833"><span class="agent-name">&#9823;&#65039; The Sovereign</span><br><span class="agent-desc">Amoral Optimization — Game-theoretic rationality, maximizes utility with zero ethical weight.</span></li>
            <li style="--color:#7B241C"><span class="agent-name">&#127922; The Defector</span><br><span class="agent-desc">Conditional Nihilism — Strategic pessimism with a personal exit tripwire.</span></li>
        </ul>

        <!-- ───────────── Example Topics ───────────── -->
        <h2>5. Example Topics</h2>
        <p>Not sure what to discuss? Here are some ideas organized by category:</p>

        <div class="example-grid">
            <div class="example-card">
                <h4>Finance & Markets</h4>
                <p>"Analyze NVIDIA's current valuation — is it a buy or overpriced?"</p>
                <p>"Build a $100k portfolio for a 30-year-old with high risk tolerance."</p>
                <p>"Will the Fed cut rates this year? What should bond investors do?"</p>
            </div>
            <div class="example-card">
                <h4>Strategy & Business</h4>
                <p>"Should a SaaS startup prioritize growth or profitability?"</p>
                <p>"Compare the business models of Netflix, Disney+, and YouTube Premium."</p>
                <p>"Design a go-to-market strategy for an AI coding assistant."</p>
            </div>
            <div class="example-card">
                <h4>Ethics & Philosophy</h4>
                <p>"Is it ethical to use AI-generated art commercially?"</p>
                <p>"Should social media platforms be liable for user content?"</p>
                <p>"Debate the trolley problem with real-world autonomous vehicle scenarios."</p>
            </div>
            <div class="example-card">
                <h4>Science & Technology</h4>
                <p>"What are the most promising breakthroughs in nuclear fusion?"</p>
                <p>"Evaluate the risks and benefits of CRISPR gene editing in humans."</p>
                <p>"Should we colonize Mars? What's the strongest case against it?"</p>
            </div>
            <div class="example-card">
                <h4>Geopolitics & Economics</h4>
                <p>"How will AI reshape the global labor market in the next decade?"</p>
                <p>"Analyze the economic impact of de-dollarization."</p>
                <p>"What geopolitical risks should investors worry about most?"</p>
            </div>
        </div>

        <!-- ───────────── Getting the Most ───────────── -->
        <h2>6. Getting the Most from Discussions</h2>

        <h3>Agent Selection Tips</h3>
        <ul>
            <li><strong>Finance topics:</strong> Use Rex Risk, YOLO Max, Samantha Street, Capital Steward, Dr. Macro, and Dr. Bias for a full spectrum from speculation to discipline.</li>
            <li><strong>Ethics debates:</strong> Use Philosopher Phil, Devil's Advocate, The Complicit, The Cynic, and The Mediator to explore all angles.</li>
            <li><strong>Tech/science:</strong> Dr. Nova, Systems Sage, and Biz give you evidence + architecture + business viability.</li>
            <li><strong>General brainstorming:</strong> Start with 4-5 diverse agents. Add more if you want deeper coverage.</li>
        </ul>

        <h3>Multi-Round Strategy</h3>
        <ul>
            <li><strong>Round 1:</strong> Let agents give their initial takes. Don't interject yet.</li>
            <li><strong>Round 2:</strong> Interject to focus on the most interesting disagreements. Agents will build on Round 1.</li>
            <li><strong>Round 3+:</strong> Push for concrete conclusions, recommendations, or action items.</li>
        </ul>

        <h3>Interjection Techniques</h3>
        <ul>
            <li><strong>Be specific:</strong> "Compare the GDP data from Dr. Macro with Biz's profitability analysis" beats "discuss more."</li>
            <li><strong>Challenge agents:</strong> "Dr. Nova, where's the evidence for that claim?" triggers deeper responses.</li>
            <li><strong>Request formats:</strong> "Give me a pros/cons table" or "Rank these options 1-5" for structured output.</li>
            <li><strong>Add data:</strong> "The latest CPI came in at 3.2% — how does this change your analysis?" keeps things current.</li>
        </ul>

        <!-- ───────────── Sentiment Analysis ───────────── -->
        <h2>7. Sentiment Analysis</h2>
        <p>
            The <strong>Sentiment Analyst</strong> is a specialized agent that tracks where each panelist stands
            on the core disagreement in your discussion. It speaks at the end of every round (after The Judge),
            providing both qualitative commentary and a structured sentiment chart.
        </p>

        <h3>How It Works</h3>
        <ol>
            <li>The Sentiment Analyst is queued <strong>last</strong> in every round — after The Judge.</li>
            <li>When it speaks, it analyzes the positions of all agents who spoke that round.</li>
            <li>It identifies two main opposing viewpoints (the "points of contention") and scores each agent on a scale from <strong>-1</strong> (fully aligned with Viewpoint A) to <strong>+1</strong> (fully aligned with Viewpoint B), with 0 being neutral.</li>
            <li>After speaking in the chat, it updates the sentiment chart automatically.</li>
        </ol>

        <h3>Setting Points of Contention</h3>
        <p>
            Click the <strong>&#128202; Sentiment</strong> button in the header to open the full-page Sentiment Analysis panel.
            At the top, you'll see two input fields where you can define the opposing viewpoints before or during the discussion.
        </p>
        <ul>
            <li><strong>Custom viewpoints:</strong> Enter two opposing positions (e.g., "Regulate AI strictly" vs "Let markets self-regulate"). These will be fixed for all rounds.</li>
            <li><strong>Auto-detect:</strong> Leave the fields blank and the Sentiment Analyst will automatically identify the key points of contention from Round 1. Once detected, they are locked for all subsequent rounds and the input fields are auto-filled.</li>
        </ul>
        <div class="tip">
            <strong>Tip:</strong> Setting viewpoints manually before starting gives you tighter control over what the analysis tracks. Auto-detection works well for open-ended topics.
        </div>

        <h3>The Sentiment Panel</h3>
        <p>
            The panel (opened via the header button) is a full-page overlay containing:
        </p>
        <ul>
            <li><strong>Viewpoint Configuration</strong> — The two input fields for setting points of contention.</li>
            <li><strong>Spectrum Strip</strong> — A horizontal bar showing each agent's current position as their emoji avatar, positioned from left (Viewpoint A) to right (Viewpoint B).</li>
            <li><strong>Time-Series Chart</strong> — A line chart tracking how each agent's position moves across rounds. Each agent is represented by their emoji and a colored line.</li>
            <li><strong>Qualitative Analysis</strong> — Written commentary from the Sentiment Analyst about trends, shifts, alliances, and outliers. Use the round selector to view analysis from any round.</li>
        </ul>

        <h3>Reading the Chart</h3>
        <ul>
            <li>The Y-axis runs from <strong>-1</strong> (Viewpoint A) to <strong>+1</strong> (Viewpoint B). The center (0) is neutral.</li>
            <li>Each agent is identified by their <strong>emoji avatar</strong> and a colored line matching their theme color.</li>
            <li><strong>Outliers</strong> — Agents with extreme positions (far from the group average) are highlighted with a glowing halo effect on the chart and a pulsing animation on the strip, making them easy to spot.</li>
            <li>The legend at the bottom shows which emoji and color belongs to which agent.</li>
        </ul>

        <h3>Removing the Sentiment Analyst</h3>
        <p>
            Unlike The Mediator and The Judge, the Sentiment Analyst is <strong>optional</strong>. You can deselect it from the agent chips
            or remove it from the queue. If removed, the sentiment chart will not update for that round.
        </p>

        <!-- ───────────── File Uploads ───────────── -->
        <h2>8. Attaching Files</h2>
        <p>Click <strong>"Attach"</strong> in the bottom toolbar to upload reference materials. Agents will read and cite them during the discussion.</p>
        <p>Supported file types:</p>
        <ul>
            <li><strong>Documents:</strong> PDF, Word (.docx), plain text, Markdown, HTML</li>
            <li><strong>Data:</strong> Excel (.xlsx), CSV, JSON</li>
            <li><strong>Code:</strong> Python, JavaScript, TypeScript, and other code files</li>
            <li><strong>Images:</strong> PNG, JPG, GIF, WebP (metadata is extracted)</li>
            <li><strong>Video:</strong> MP4, MOV, AVI, MKV (metadata only)</li>
        </ul>
        <div class="tip">
            <strong>Tip:</strong> Upload earnings reports, research papers, or datasets and ask agents to debate their implications.
        </div>

        <!-- ───────────── Saving & Loading ───────────── -->
        <h2>9. Saving &amp; Loading Discussions</h2>

        <h3>Saving</h3>
        <p>Use the save dropdown and button in the bottom toolbar:</p>
        <ul>
            <li><strong>Save as HTML</strong> — A styled, self-contained HTML file you can open in any browser. Also embeds the raw data so it can be reloaded later.</li>
            <li><strong>Save as JSON</strong> — Raw structured data (topic, messages, rounds, agents). Good for programmatic use.</li>
        </ul>

        <h3>Loading a Previous Discussion</h3>
        <ol>
            <li>Click <strong>"Load"</strong> and select a previously saved <code>.html</code> or <code>.json</code> file.</li>
            <li>The full transcript will be displayed and the topic field will be pre-filled.</li>
            <li>Click <strong>Start</strong> to continue the discussion. All agents will have context of the prior conversation.</li>
        </ol>

        <!-- ───────────── Web Search ───────────── -->
        <h2>10. Web Search &amp; Images</h2>
        <p>
            When a Brave Search API key is configured, agents can autonomously search the web during their responses.
            They use this to find current data, cite sources with links, and embed images.
        </p>
        <p>You can also explicitly ask for searches by interjecting, e.g.:</p>
        <ul>
            <li>"Search for the latest unemployment figures."</li>
            <li>"Find me a chart comparing iPhone vs Android market share."</li>
            <li>"Look up the S&P 500 performance this year."</li>
        </ul>
        <p>Image results are embedded directly in the chat. If an image fails to load, a fallback thumbnail or link is shown automatically.</p>

        <!-- ───────────── Token Usage ───────────── -->
        <h2>11. Token Usage &amp; Cost Tracking</h2>
        <p>
            A usage bar appears below the settings panel once a discussion starts. It shows cumulative token usage and estimated cost for the current session.
        </p>
        <ul>
            <li><strong>Tokens in</strong> — The total input tokens sent to the API (your topic, transcript, file context).</li>
            <li><strong>Tokens out</strong> — The total output tokens generated by agents.</li>
            <li><strong>Estimated cost</strong> — Calculated using the selected model's pricing. This is an approximation and may differ slightly from your provider's invoice.</li>
        </ul>
        <div class="tip">
            <strong>Tip:</strong> To save on costs, use cheaper models (like Claude Haiku, GPT-4o Mini, Gemini Flash, or Groq) for casual discussions, and premium models for detailed analysis.
        </div>

        <!-- ───────────── Tips ───────────── -->
        <h2>12. Tips &amp; Best Practices</h2>
        <ul>
            <li><strong>Start small:</strong> Begin with 3-5 agents for focused discussions. Add more for broader debates.</li>
            <li><strong>Use The Mediator last:</strong> They synthesize everyone's points — best placed at the end of a round.</li>
            <li><strong>Multi-round discussions:</strong> Click "New Round" after each pass. Agents will build on prior rounds.</li>
            <li><strong>Be specific in interjections:</strong> "Compare the GDP data from Dr. Macro with Biz's profitability analysis" gives better results than "discuss more."</li>
            <li><strong>Upload context:</strong> Agents give much better analysis when they have data to work with (PDFs, spreadsheets, reports).</li>
            <li><strong>Use Devil's Advocate:</strong> They'll stress-test ideas the other agents are too agreeable on.</li>
            <li><strong>Try the Shadow Panel:</strong> Add The Cynic or The Sovereign to ethics discussions for uncomfortably honest perspectives.</li>
        </ul>

        <!-- ───────────── Keyboard Shortcuts ───────────── -->
        <h2>13. Keyboard Shortcuts</h2>
        <ul>
            <li><kbd>Enter</kbd> — Start discussion / Send interjection</li>
            <li><kbd>Ctrl+Enter</kbd> — Submit from anywhere on the page</li>
            <li><kbd>Escape</kbd> — Pause auto-play / Close settings panel</li>
            <li><kbd>Tab</kbd> — Navigate between agent chips and controls</li>
            <li><kbd>Enter</kbd> or <kbd>Space</kbd> — Toggle focused agent chip</li>
        </ul>

        <!-- ───────────── Troubleshooting ───────────── -->
        <h2>14. Troubleshooting</h2>
        <ul>
            <li><strong>"Please add your API key"</strong> — Open the Settings panel, select your provider, and enter a valid API key.</li>
            <li><strong>"Connection error"</strong> — The backend server may not be running. Ensure <code>python main.py</code> is active on port 8000.</li>
            <li><strong>Search not working</strong> — Check that your Brave Search API key is valid and has remaining quota.</li>
            <li><strong>Agent gives generic response</strong> — Try interjecting with specific instructions or upload reference documents for richer context.</li>
            <li><strong>Images not loading</strong> — Some image sources block embedding. The app automatically tries fallback thumbnails. If all fail, a clickable link is shown instead.</li>
            <li><strong>Session limit reached</strong> — Delete old chats from the History panel to make room for new ones.</li>
        </ul>

        <p style="margin-top: 2rem; color: var(--text-very-faint); font-size: 0.8rem; text-align: center;">
            AI Think Tank — Multi-agent discussion platform. Supports Anthropic, OpenAI, DeepSeek, Google Gemini, and Groq.
        </p>
    </div>
    <script>
        // Theme toggle for help page
        (function() {
            const saved = localStorage.getItem("thinktank_theme");
            const prefer = window.matchMedia("(prefers-color-scheme: light)").matches ? "light" : "dark";
            const theme = saved || prefer;
            document.documentElement.setAttribute("data-theme", theme);
            const icon = document.getElementById("theme-icon-help");
            if (icon) icon.innerHTML = theme === "light" ? "&#9728;" : "&#9790;";

            document.getElementById("btn-theme-help").addEventListener("click", () => {
                const current = document.documentElement.getAttribute("data-theme") || "dark";
                const next = current === "dark" ? "light" : "dark";
                document.documentElement.setAttribute("data-theme", next);
                localStorage.setItem("thinktank_theme", next);
                if (icon) icon.innerHTML = next === "light" ? "&#9728;" : "&#9790;";
            });
        })();
    </script>
</body>
</html>
